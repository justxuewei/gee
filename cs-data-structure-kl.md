# 栈和队列

## 栈

- 有n个元素入栈，则有$\displaystyle \frac{1}{n+1}C^n_{2n}$种出栈方式

## 应用

### 表达式求值

中缀表达式转后缀表达式

- 遇到数字直接输出，因为顺序没有变化
- 遇到符号需要先存入堆栈，等碰到下一个符号的时候与栈顶的符号做比较，规则为
  - 左括号：压入堆栈；
  - 右括号：将栈顶的运算符弹出并输出，直到遇到左括号（出栈，不输出）；
  - 运算符：
    - 若优先级大于栈顶运算符时，则把它压栈；
    - 若优先级<u>小于等于</u>栈顶运算符时，将栈顶运算符弹出并输出；再比较新的栈顶运算符，直到该运算符大于栈顶运算符优先级为止，然后将该运算符压栈；
  - 若各对象处理完毕，则把堆栈中存留的运算符一并输出。

# 树与二叉树

## 二叉树

### 基本公式及推导过程

- $n_0 = n_2 + 1$：二叉树上全部的结点数为$n_0 + n_1 + n_2$，度为$n_0$不贡献边，$n_1$贡献1条边，$n_2$贡献两条边，又因为树有“结点数 = 边数 + 1”，所以可以列出等式$n_0 + n_1 + n_2 = 0\cdot n_0 + 1\cdot n_1 + 2\cdot n_2 + 1$，所以$n_0 = n_2 + 1$
- 深度为h的二叉树最多有$2^h-1$个结点，因为第一层有$2^0 = 1$个结点， 第二层有$2^1 = 2$个结点，...，第h层有$2^h$个结点，所以累加后为$1 + 2 + \cdots + 2^h = 2^h - 1$个结点
- 完全二叉树第h层最多有$2^{h-1}$个结点，为深度为h的完全二叉树有$2^h-1$，深度为$h-1$的完全二叉树有$2^{h-1}-1$，则第h层最多有$2^h-1-(2^{h-1}-1) = 2^{h-1}$
- 用链表存储的n个结点二叉树的空指针域有$n+1$个，因为有$2n$个指针域，$n-1$条边，所以$2n-(n-1) = n + 1$

遍历

- 中序+前序以及中序+后序确定树结构 [参见这里](https://www.icourse163.org/learn/ZJU-93001?tid=1206471203#/learn/content?type=detail&id=1211167087&cid=1213729213&replay=true)
- 前序遍历可以看做入栈序列，中序遍历看做出栈序列 <王道 P126 34>

### 平衡二叉树(AVL)

- 高度为$h$下的最少结点数为$n_h = n_{h-1} + n_{h-2} + 1$，其中$n_1 = 1, n_2 = 2$，或者换个问法：有$n$个结点的平衡二叉树最大深度 <王道 P166 13,  P166 14, P166 17>
  - 证明：同样假设T为高度为n的平衡二叉树，其需要最少的节点数目为F(n)。又假设TL，TR为T的左右子树，因此TL，TR也为平衡二叉树。假设F1,F2为TL，TR的最少节点数，则，F(n) = F1+F2 +1。那么F1,F2 到底等于多少呢？由于TL，TR与T一样是平衡二叉树，又由于我们知道T的最少节点数是F(n),其中n为T的高度，因此如果我们知道TL，TR的高度就可以知道F1,F2的值了。由平衡二叉树的定义可以知道，TL和TR的高度要么相同，要么相差1，而当TL与TR高度相同(即:都等于n-1)时，我们算出来的F(n)并不能保证最小，因此只有当TL与TR高度相差一(即：一个高度为n-1，一个高度为n-2)时，计算出来的F(n)才能最小。此时我们假设TL比TR高度要高1(即：TL高度为n-1，TR高度为n-2)，则有：F1 = F(n-1),F2 = F(n-2)。

## 树、森林

- F是一个森林，B是由F转换而来的二叉树，若F中存在n个非终端结点，则B中右指针为空的结点有n+1个 <王道 P151 7, P151 8>
  - 另一种说法1：F共有m个结点，n个叶子结点，则有m-n个非终端结点
  - 另一种说法2：B中右指针为空的结点 = 二叉树无右孩子的结点 = 森林中无兄弟的结点

# 图

## 基本概念

- 连通子图概念
  - 极大连通子图（等于“连通分量”）需要保证
    - 图是连通的
    - 包含原本所有连通的点
    - 边的个数尽可能多
  - 极小连通子图（参考“生成树”）需要保证
    - 图是连通的
    - 包含原本所有连通的点
    - 边的个数尽可能少
- 完全图（如下图所示）
  - $n$个顶点的无向完全图需要的边数为$\displaystyle \frac{n(n-1)}{2}$
  - $n$个顶点的有向完全图需要的边数为$n(n-1)$

<img src="http://res.niuxuewei.com/2019-08-29-032500.png" height="100">

- <u>无向</u>连通图点与边的数量关系 <王道 P185 7, P186 10>
  - 有n个顶点，<u>保证</u>在任何情况下都是连通的，则需要的最少边数为$\displaystyle \frac{(n-1)(n-2)}{2} + 1$个（或者说在保证连通的情况下最多有多少边）
    - 要保证$n-1$个顶点是无向完全图，再加任意一个即保证$n$个顶点全部连接上
  - 有n个顶点，可以连通的最少边数为$n-1$个
    - 树就是一个最小连通的情况
  
- 边与度的数量关系：若无向图含有$e$条边，度为$d_i$的顶点有$n_i$个($n = 1, 2, \cdots$)，则可以建立等式$\displaystyle 2e = \sum^n_{i=1}d_in_i$，其中$2e$的含义是一条边可以提供2个度，则$e$条边可以提供$2e$个度 <王道 P186 12, 15>

  