# 栈和队列

## 栈

- 有n个元素入栈，则有$\displaystyle \frac{1}{n+1}C^n_{2n}$种出栈方式

## 应用

### 表达式求值

中缀表达式转后缀表达式

- 遇到数字直接输出，因为顺序没有变化
- 遇到符号需要先存入堆栈，等碰到下一个符号的时候与栈顶的符号做比较，规则为
  - 左括号：压入堆栈；
  - 右括号：将栈顶的运算符弹出并输出，直到遇到左括号（出栈，不输出）；
  - 运算符：
    - 若优先级大于栈顶运算符时，则把它压栈；
    - 若优先级<u>小于等于</u>栈顶运算符时，将栈顶运算符弹出并输出；再比较新的栈顶运算符，直到该运算符大于栈顶运算符优先级为止，然后将该运算符压栈；
  - 若各对象处理完毕，则把堆栈中存留的运算符一并输出。

# 树与二叉树

## 二叉树

基本公式及推导过程

- $n_0 = n_2 + 1$：二叉树上全部的结点数为$n_0 + n_1 + n_2$，度为$n_0$不贡献边，$n_1$贡献1条边，$n_2$贡献两条边，又因为树有“结点数 = 边数 + 1”，所以可以列出等式$n_0 + n_1 + n_2 = 0\cdot n_0 + 1\cdot n_1 + 2\cdot n_2 + 1$，所以$n_0 = n_2 + 1$
- 深度为h的二叉树最多有$2^h-1$个结点，因为第一层有$2^0 = 1$个结点， 第二层有$2^1 = 2$个结点，...，第h层有$2^h$个结点，所以累加后为$1 + 2 + \cdots + 2^h = 2^h - 1$个结点
- 完全二叉树第h层最多有$2^{h-1}$个结点，为深度为h的完全二叉树有$2^h-1$，深度为$h-1$的完全二叉树有$2^{h-1}-1$，则第h层最多有$2^h-1-(2^{h-1}-1) = 2^{h-1}$
- 用链表存储的n个结点二叉树的空指针域有$n+1$个，因为有$2n$个指针域，$n-1$条边，所以$2n-(n-1) = n + 1$

遍历

- 中序+前序以及中序+后序确定树结构 [参见这里](https://www.icourse163.org/learn/ZJU-93001?tid=1206471203#/learn/content?type=detail&id=1211167087&cid=1213729213&replay=true)
- 前序遍历可以看做入栈序列，中序遍历看做出栈序列 <P126 34>

## 树、森林

- F是一个森林，B是由F转换而来的二叉树，若F中存在n个非终端结点，则B中右指针为空的结点有n+1个 <P151 7, 8>
  - 另一种说法1：F共有m个结点，n个叶子结点，则有m-n个非终端结点
  - 另一种说法2：B中右指针为空的结点 = 二叉树无右孩子的结点 = 森林中无兄弟的结点